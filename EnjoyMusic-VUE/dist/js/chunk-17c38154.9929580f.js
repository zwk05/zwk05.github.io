(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17c38154"],{"16a2":function(t,s,i){"use strict";var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("li",{staticClass:"song",on:{click:function(s){return t.translateSongId(t.index)}}},[i("div",{staticClass:"songname"},[!t.item.song&&t.showindex?i("div",{staticClass:"index",class:{active:t.index<3||""}},[t._v(t._s(t.indexback))]):t._e(),t.item.song?i("div",{staticClass:"list"},[i("p",{staticClass:"name"},[t._v(t._s(t.item.name))]),t.isShowQuality?i("i",{staticClass:"logo"}):t._e(),i("span",{staticClass:"said"},[t._v(t._s(t.item.song.artists[0].name)+"-"+t._s(t.item.song.album.name))])]):i("div",{staticClass:"list"},[i("p",{staticClass:"name"},[t._v(t._s(t.item.name))]),t.item.h&&t.isShowQuality?i("i",{staticClass:"logo"}):t._e(),i("span",{staticClass:"said"},[t._v(" "+t._s(t.item.ar[0].name)+"-"+t._s(t.item.al.name))])])]),t._m(0)])},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"right"},[i("i",{staticClass:"play"})])}],n={name:"SongListItem",props:["item","playlist","isShowQuality","index","YouCanJump","showindex"],methods:{translateSongId:function(t){this.$emit("translateWhenSongId",this.item),this.$emit("translatePlaylist",[t,this.playlist])}},computed:{indexback:function(){return this.index<9?"0"+(this.index+1):this.index+1}}},l=n,o=(i("a462"),i("2877")),c=Object(o["a"])(l,a,e,!1,null,null,null);s["a"]=c.exports},8580:function(t,s,i){},"8f8d":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"hot",on:{touchstart:t.touchstarts,touchend:t.touchends}},[i("div",{staticClass:"header"},[i("div",{staticClass:"content"},[i("div",{staticClass:"bg"}),i("h5",[t._v("更新时间"+t._s(t.uptatetime))])])]),t.isShow?i("ul",t._l(t.playlist,(function(s,a){return i("SongListItem",{key:a,attrs:{item:s,index:a,playlist:t.playlist,showindex:!0,"is-show-quality":!0,"you-can-jump":!0},on:{translateWhenSongId:function(s){return t.translateWhenSongId(s)},translatePlaylist:function(s){return t.translatePlaylist(s)}}})})),1):t._e()])},e=[],n=(i("d3b7"),i("16a2")),l={components:{SongListItem:n["a"]},data:function(){return{playlist:null,playlists:null,isShow:!1,uptatetime:null,startPagx:null,isreaderdataplaylist:!1,issucces:0,isget:!1}},methods:{touchstarts:function(t){this.startPagx=t.touches[0].pageX},touchends:function(t){var s=t.changedTouches[0].pageX;window.console.log(s),s-this.startPagx>=100&&this.$router.push({path:"/recommend"}),s-this.startPagx<=-100&&this.$router.push({path:"/search"})},getsongDetail:function(t){var s=this;fetch("https://music.kele8.cn/song/detail?ids="+t).then((function(t){return t.json()})).then((function(t){s.issucces++,s.playlist.push(t.songs[0])}))},translatePlaylist:function(t){this.$emit("translatePlaylist",t)},translateWhenSongId:function(t){this.$emit("translateWhenSongId",t)},getHotItemSong:function(){var t=this,s=JSON.parse(window.localStorage.getItem("playlists"));s&&Date.now()<s.time&&1==s.idx?(this.isShow=!0,this.isget=!0,this.playlists=s.data):this.axios.get("https://music.kele8.cn/top/list?idx=1").then((function(s){t.playlists=s.data.playlist,t.isget=!0,window.localStorage.setItem("playlists",JSON.stringify({time:Date.now()+36e5,idx:1,data:t.playlists})),t.isShow=!0}))},getuptateTime:function(){var t=this;this.uptatetime=new Date(t.playlist.trackNumberUpdateTime)},ShabaiGet:function(){this.playlist=[];var t=JSON.parse(window.localStorage.getItem("playlist"));t||(this.issucces=0,0==this.issucces&&this.getsongDetail(this.playlists.tracks[this.issucces].id))}},beforeRouteEnter:function(t,s,i){i((function(t){t.getHotItemSong(),(!t.playlist||t.playlist.length<=200)&&t.isget&&t.ShabaiGet()}))},watch:{playlist:function(){this.playlist&&this.getuptateTime(),200==this.playlist.length&&window.localStorage.setItem("playlist",JSON.stringify({time:Date.now()+216e6,data:this.playlist}))},playlists:function(){this.playlist=[];var t=JSON.parse(window.localStorage.getItem("playlist"));t&&Date.now()<t.time?this.playlist=t.data:(null==t||Date.now()>t.time)&&0==this.issucces&&this.getsongDetail(this.playlists.tracks[this.issucces].id)},issucces:function(){this.issucces<=199&&this.getsongDetail(this.playlists.tracks[this.issucces].id)}},created:function(){window.console.log("创建")}},o=l,c=(i("af91"),i("2877")),u=Object(c["a"])(o,a,e,!1,null,null,null);s["default"]=u.exports},a462:function(t,s,i){"use strict";var a=i("8580"),e=i.n(a);e.a},af91:function(t,s,i){"use strict";var a=i("dfe9"),e=i.n(a);e.a},dfe9:function(t,s,i){}}]);
//# sourceMappingURL=chunk-17c38154.9929580f.js.map