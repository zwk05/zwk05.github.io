(function(t){function e(e){for(var n,r,l=e[0],c=e[1],o=e[2],u=0,h=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(h.length)h.shift()();return s.push.apply(s,o||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=i[0]))}return t}var n={},r={app:0},a={app:0},s=[];function l(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-17c38154":"9929580f","chunk-1a18e770":"b8697b01","chunk-23a49633":"e1db1a2f","chunk-406d916c":"290ab508","chunk-94bbe340":"1264e6fa"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(t){var e=[],i={"chunk-17c38154":1,"chunk-1a18e770":1,"chunk-23a49633":1,"chunk-406d916c":1,"chunk-94bbe340":1};r[t]?e.push(r[t]):0!==r[t]&&i[t]&&e.push(r[t]=new Promise((function(e,i){for(var n="css/"+({}[t]||t)+"."+{"chunk-17c38154":"d4e46b7b","chunk-1a18e770":"5175e155","chunk-23a49633":"f5829bcc","chunk-406d916c":"d9024eb2","chunk-94bbe340":"6e21b2ea"}[t]+".css",a=c.p+n,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var o=s[l],u=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(u===n||u===a))return e()}var h=document.getElementsByTagName("style");for(l=0;l<h.length;l++){o=h[l],u=o.getAttribute("data-href");if(u===n||u===a)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||a,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[t],p.parentNode.removeChild(p),i(s)},p.href=a;var y=document.getElementsByTagName("head")[0];y.appendChild(p)})).then((function(){r[t]=0})));var n=a[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,i){n=a[t]=[e,i]}));e.push(n[2]=s);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=l(t);var h=new Error;o=function(e){u.onerror=u.onload=null,clearTimeout(p);var i=a[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",h.name="ChunkLoadError",h.type=n,h.request=r,i[1](h)}a[t]=void 0}};var p=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(i,n,function(e){return t[e]}.bind(null,n));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var p=u;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("85ec"),r=i.n(n);r.a},4252:function(t,e,i){"use strict";var n=i("5121"),r=i.n(n);r.a},5121:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=(i("d3b7"),i("bc3a")),a=i.n(r),s={},l=a.a.create(s);l.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=l,window.axios=l,Object.defineProperties(t.prototype,{axios:{get:function(){return l}},$axios:{get:function(){return l}}})},n["a"].use(Plugin);Plugin;var c,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"nav"}}),i("keep-alive",[i("router-view",{attrs:{WhenMusiClickId:t.WhenMusiClickId,isnowPlay:t.isnowPlay,SongPlayTimeArr:t.SongPlayTimeArr,currentIndex:t.currentIndex,playlist:t.playlist,lyrictext:t.lyrictext},on:{translateWhenSongId:function(e){return t.translateWhenSongId(e)},isnowPlayMusic:function(e){return t.isnowPlayMusic(e)},smallPlays:function(e){return t.smallPlays(e)},PrevSongTure:t.PrevSongTure,NextSongTure:t.NextSongTure,translatePlaylist:function(e){return t.translatePlaylist(e)},translateWhenPlayTime:function(e){return t.translateWhenPlayTime(e)},tranlateplaymoder:function(e){return t.tranlateplaymoder(e)}}})],1),i("keep-alive",[i("FloatPalyNav",{attrs:{WhenMusiClickId:t.WhenMusiClickId,smallPlay:t.smallPlay,bigPlay:t.bigPlay,isnowPlay:t.isnowPlay,isPrevSong:t.isPrevSong,isNextSong:t.isNextSong,playlist:t.playlist,whenPlaytime:t.whenPlaytime,playmoder:t.playmoder},on:{isnowPlaydetector:function(e){return t.isnowPlaydetector(e)},smallPlays:function(e){return t.smallPlays(e)},BackPlayTime:function(e){return t.BackPlayTime(e)},backindex:t.backindex,transinger:t.transinger}})],1)],1)},u=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.WhenMusiClickId&&t.smallPlay?i("div",{staticClass:"palynav"},[t.WhenMusiClickId.picUrl?[i("b",{on:{click:t.translateSongId}},[i("span",[i("img",{class:{active:t.isactive},attrs:{src:t.item.picUrl,alt:""}})]),i("span",[t._v(t._s(t.item.name))])])]:t._e(),t.item.al?[i("b",{on:{click:t.translateSongId}},[i("span",[i("img",{class:{active:t.isactive},attrs:{src:t.item.al.picUrl,alt:""}})]),i("span",[t._v(t._s(t.item.name))])])]:t._e(),t.item.artists&&t.item.album?[i("b",{on:{click:t.translateSongId}},[i("span",[i("img",{class:{active:t.isactive},attrs:{src:t.item.al.picUrl,alt:""}})]),i("span",[t._v(t._s(t.item.name))])])]:t._e(),i("span",{staticClass:"play"},[t.playBtncut?i("i",{staticClass:"fa fa-play-circle-o",attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),t.playmusic(e)}}}):i("i",{staticClass:"fa fa-pause-circle-o",attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),t.pausedmusic(e)}}})]),t._m(0)],2):t._e(),t.WhenMusiClickId?i("div",[i("audio",{ref:"audio",attrs:{id:"music",src:t.currentSongUrl,autoplay:""}})]):t._e()])},p=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"menu"},[i("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}})])}],y=(i("fb6a"),i("a434"),i("a9e3"),i("ac1f"),i("25f0"),i("1276"),i("498a"),i("159b"),i("ade3")),d=(new Audio,{name:"FloatPalyNav",props:["WhenMusiClickId","playlist","smallPlay","isnowPlay","isPrevSong","isNextSong","whenPlaytime","playmoder"],data:function(){return{playBtncut:!0,play:null,songid:null,playcurrent:null,item:null,playlists:null,url:null,lyric:[],lyricArr:[],lyrictext:null,howsplict:!1,x:null,isactive:!0}},methods:{getlyric:function(t){var e=this;this.axios.get("https://music.kele8.cn/lyric?id="+t).then((function(t){var i=t.data.lrc.lyric.slice(0,11);if("[00:00.000]"==i)e.howsplict=!0,e.lyric=t.data.lrc.lyric,e.dealSinger();else{e.howsplict=!1;var n=t.data.lrc.lyric.split("\n");n.splice(0,1),e.lyric=n.toString(),e.dealSinger()}})).catch((function(){this.getlyric(t)}))},dealSinger:function(){var t=this;this.howsplict?(this.lyric.split("\n").forEach((function(e,i){var n=e.slice(1,9);t.lyricArr[i]={time:60*n.slice(0,2)+Number(n.slice(3)),text:e.slice(10).trim()}})),this.lyricArr.pop(),this.lyricArr.shift()):(this.lyric.split(",").forEach((function(e,i){var n=e.slice(1,9);t.lyricArr[i]={time:60*n.slice(0,2)+Number(n.slice(3)),text:e.slice(10).trim()}})),this.lyricArr.pop(),this.lyricArr.shift())},Singerpanduan:function(){if(this.lyricArr.length>1)for(var t=0;t<this.lyricArr.length;t++)if(this.lyricArr[t].time>=this.$refs.audio.currentTime){if(this.lyricArr[t].time>this.$refs.audio.currentTime+60){this.lyricArr.splice(t,1);break}if(this.lyricArr[t-1]){"]"==this.lyricArr[t-1].text.slice(0,1)?(this.lyrictext=this.lyricArr[t-1].text.slice(1),this.$emit("transinger",this.lyrictext)):(this.lyrictext=this.lyricArr[t-1].text,this.$emit("transinger",this.lyrictext));break}}},getsongDetail:function(t){var e=this;fetch("http://music.kele8.cn/song/detail?ids="+t).then((function(t){return t.json()})).then((function(t){e.playlists.push(t.songs[0])}))},OntimeUpdate:function(){var t=this;this.$refs.audio.ontimeupdate=function(){t.Singerpanduan();var e=this.currentTime,i=this.duration;t.$emit("BackPlayTime",[e,i])}},randomNumber:function(t,e){return Math.round(Math.random()*(e-t)+t)},onendedModer:function(){var t=this;this.$refs.audio.onended=function(){if(t.playmoder[0])t.playlist[1].tracks?(t.playcurrent=t.playcurrent>=t.playlist[1].tracks.length-1?0:++t.playcurrent,t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id):(t.playcurrent=t.playcurrent>=t.playlist[1].length-1?0:++t.playcurrent,t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id),t.$refs.audio.onloadedmetadata=function(){},t.$refs.audio.oncanplay=function(){t.playmusic()};else if(t.playmoder[1])t.playlist[1].tracks?(t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id):(t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id),t.playmusic();else{if(t.playlist[1].tracks){var e=t.playlist[1].tracks.length-1;t.playcurrent=t.playcurrent>=t.playlist[1].tracks.length-1?0:t.randomNumber(0,e),t.$emit("backindex",t.playcurrent),t.item=t.playlist[1].tracks[t.playcurrent],t.songid=t.playlist[1].tracks[t.playcurrent].id}else{var i=t.playlist[1].length-1;t.playcurrent=t.playcurrent>=t.playlist[1].length-1?0:t.randomNumber(0,i),t.$emit("backindex",t.playcurrent),t.item=t.playlist[1][t.playcurrent],t.songid=t.playlist[1][t.playcurrent].id}t.$refs.audio.onloadedmetadata=function(){},t.$refs.audio.oncanplay=function(){t.playmusic()}}}},playpusedmusic:function(){var t=this;this.$refs.audio.paused?(this.isactive=!1,this.$refs.audio.onloadedmetadata=function(){},this.$refs.audio.oncanplay=function(){this.play(),t.$emit("isnowPlaydetector",!0),t.playBtncut=!1}):(this.isactive=!0,this.$refs.audio.pause(),this.$emit("isnowPlaydetector",!1),this.playBtncut=!0),this.OntimeUpdate(),this.getlyric(this.songid)},playmusic:function(){this.isactive=!1,this.$refs.audio.play(),this.$emit("isnowPlaydetector",!0),this.playBtncut=!1,this.OntimeUpdate(),this.onendedModer(),this.getlyric(this.songid)},pausedmusic:function(){this.isactive=!0,this.$refs.audio.pause(),this.$emit("isnowPlaydetector",!1),this.playBtncut=!0,this.OntimeUpdate(),this.onendedModer(),this.getlyric(this.songid)},translateSongId:function(){this.$router.push({path:"playmusicsollbigshow"}),this.$emit("smallPlays",!1)}},watch:(c={playlist:function(){var t=this;this.playlist.forEach((function(e){t.getsongDetail(e.id)}))},whenPlaytime:function(){this.$refs.audio.currentTime=this.whenPlaytime/100*this.$refs.audio.duration},smallPlay:function(){},isnowPlay:function(){this.WhenMusiClickId&&this.isnowPlay?(this.id=this.WhenMusiClickId.id,this.playmusic()):this.pausedmusic()},WhenMusiClickId:function(t){var e=this;this.songid=this.WhenMusiClickId.id,this.item=this.WhenMusiClickId;var i=this;null!=this.WhenMusiClickId&&this.isnowPlay?setTimeout((function(){e.$refs.audio.onloadedmetadata=function(){},console.log(e.$refs.audio.paused),e.$refs.audio.oncanplay=function(){i.playmusic()}}),100):this.pausedmusic()}},Object(y["a"])(c,"playlist",(function(){this.playcurrent=this.playlist[0]})),Object(y["a"])(c,"isPrevSong",(function(){this.isPrevSong&&(this.playlist[1].tracks?(this.playcurrent=this.playcurrent<=0?this.playlist[1].tracks.length-1:--this.playcurrent,this.songid=this.playlist[1].tracks[this.playcurrent].id,this.item=this.playlist[1].tracks[this.playcurrent],this.$emit("backindex",this.playcurrent)):(this.playcurrent=this.playcurrent<=0?this.playlist[1].length-1:--this.playcurrent,this.songid=this.playlist[1][this.playcurrent].id,this.item=this.playlist[1][this.playcurrent],this.$emit("backindex",this.playcurrent)))})),Object(y["a"])(c,"isNextSong",(function(){this.isNextSong&&(this.playlist[1].tracks?(this.playcurrent=this.playcurrent>=this.playlist[1].tracks.length-1?0:++this.playcurrent,this.songid=this.playlist[1].tracks[this.playcurrent].id,this.$emit("backindex",this.playcurrent),this.item=this.playlist[1].tracks[this.playcurrent]):(this.playcurrent=this.playcurrent>=this.playlist[1].length-1?0:++this.playcurrent,this.songid=this.playlist[1][this.playcurrent].id,this.$emit("backindex",this.playcurrent),this.item=this.playlist[1][this.playcurrent]))})),c),computed:{currentSongUrl:function(){return"https://music.163.com/song/media/outer/url?id="+this.songid+".mp3"}},created:function(){}}),f=d,m=(i("4252"),i("2877")),g=Object(m["a"])(f,h,p,!1,null,null,null),v=g.exports,k={components:{FloatPalyNav:v},data:function(){return{WhenMusiClickId:null,playlist:null,smallPlay:!0,bigPlay:!1,isnowPlay:!1,SongPlayTimeArr:[],isPrevSong:!1,isNextSong:!1,currentIndex:null,whenPlaytime:null,playmoder:null,lyrictext:null}},methods:{transinger:function(t){this.lyrictext=t},BackPlayTime:function(t){this.SongPlayTimeArr=t},translateWhenSongId:function(t){this.WhenMusiClickId=t,this.isnowPlay=!0},isnowPlaydetector:function(t){this.isnowPlay=t},isnowPlayMusic:function(t){this.isnowPlay=t},smallPlays:function(t){this.smallPlay=t},PrevSongTure:function(t){this.isPrevSong=t},NextSongTure:function(t){this.isNextSong=t},translatePlaylist:function(t){this.playlist=t,this.currentIndex=t[0]},backindex:function(t){this.currentIndex=t},translateWhenPlayTime:function(t){this.whenPlaytime=t},tranlateplaymoder:function(t){this.playmoder=t}}},P=k,b=(i("034f"),Object(m["a"])(P,o,u,!1,null,null,null)),w=b.exports,x=i("8c4f"),S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("h2",[t._v("悦享新音乐")]),i("keep-alive",[i("ul",{staticClass:"nav"},[i("li",[i("router-link",{attrs:{to:"/recommend"}},[t._v("推荐音乐")])],1),i("li",[i("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),i("li",[i("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])]),i("keep-alive",[i("router-view",{on:{translateWhenSongId:function(e){return t.translateWhenSongId(e)},translatePlaylist:function(e){return t.translatePlaylist(e)}}})],1)],1)},$=[],I={name:"home",data:function(){return{}},methods:{translateWhenSongId:function(t){this.$emit("translateWhenSongId",t)},translatePlaylist:function(t){this.$emit("translatePlaylist",t)}}},_=I,C=(i("de16"),Object(m["a"])(_,S,$,!1,null,null,null)),T=C.exports;n["a"].use(x["a"]);var M=[{path:"/",name:"home",component:T,redirect:"/recommend",children:[{path:"/recommend",name:"recommend",component:function(){return i.e("chunk-406d916c").then(i.bind(null,"cc7e"))}},{path:"/hot",name:"hot",component:function(){return i.e("chunk-17c38154").then(i.bind(null,"8f8d"))}},{path:"/search",name:"search",component:function(){return i.e("chunk-23a49633").then(i.bind(null,"0e29"))}}]},{path:"/playList",name:"playList",component:function(){return i.e("chunk-94bbe340").then(i.bind(null,"cdcd"))}},{path:"/playmusicsollbigshow",name:"playmusicsollbigshow",component:function(){return i.e("chunk-1a18e770").then(i.bind(null,"5947"))}}],A=new x["a"]({routes:M}),W=A;n["a"].config.productionTip=!1,new n["a"]({router:W,render:function(t){return t(w)}}).$mount("#app")},"85ec":function(t,e,i){},"8d91":function(t,e,i){},de16:function(t,e,i){"use strict";var n=i("8d91"),r=i.n(n);r.a}});
//# sourceMappingURL=app.332fc7ad.js.map