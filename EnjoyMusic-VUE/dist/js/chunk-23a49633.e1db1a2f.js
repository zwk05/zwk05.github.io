(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23a49633"],{"0e29":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search",on:{touchstart:t.touchstarts,touchend:t.touchends}},[e("div",{staticClass:"searchdetail"},[e("div",{staticClass:"input"},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.suggests,expression:"suggests",modifiers:{trim:!0}}],ref:"input",attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.suggests},on:{focus:t.xxx,input:function(s){s.target.composing||(t.suggests=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.suggests&&t.shoutext,expression:"suggests && shoutext"}],staticClass:"susgestname"},[e("div",{staticClass:"showsearchname"},[t._v('搜索"'+t._s(t.suggests)+'"')]),e("ul",{staticClass:"lists"},t._l(t.suggestsname,(function(s,i){return e("li",{key:i,on:{click:function(s){return t.goselectlist(i)}}},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),e("span",[t._v(t._s(s.keyword))])])})),0),t.loading?e("img",{attrs:{src:i("32e4"),alt:""}}):t._e()]),e("div",{staticClass:"searchsonglist"},[t.listshow&&t.playlists?e("ul",[e("div",{staticClass:"message"},[e("h3",[t._v("最佳匹配")]),t.playlist[0]?e("div",{staticClass:"picUrl"},[e("img",{attrs:{src:t.playlist[0].al.picUrl,alt:""}}),e("span",{staticClass:"singer"},[e("span",{staticClass:"singers"},[t._v("歌手:")]),t._v(t._s(t.playlist[0].ar[0].name))]),e("i",{staticClass:"fa fa-angle-right",attrs:{"aria-hidden":"true"}})]):t._e()]),t._l(t.playlist,(function(s,i){return e("SongListItem",{key:i,attrs:{item:s,"is-show-quality":!0,index:i,showindex:!0,playlist:t.playlist},on:{translateWhenSongId:function(s){return t.translateWhenSongId(s)},translatePlaylist:function(s){return t.translatePlaylist(s)}}})}))],2):t._e()]),t.showtuijian?e("div",{staticClass:"hotsearch"},[e("h3",{staticClass:"title"},[t._v("热门搜索")]),e("ul",{staticClass:"list"},t._l(t.hotSearchKeyWords,(function(s,i){return e("li",{key:i,on:{click:function(s){return t.changinputtext(i)}}},[t._v(" "+t._s(s.first)+" ")])})),0)]):t._e()])},a=[],n=(i("d3b7"),i("159b"),i("16a2")),l={data:function(){return{suggests:null,suggestsname:null,playlists:null,playlist:[],listshow:!1,shoutext:!0,loading:!1,hotSearchKeyWords:null,showtuijian:!0,startPagx:null}},components:{SongListItem:n["a"]},watch:{suggests:function(){this.suggests?(this.getSuggestsname(this.suggests),this.loading=!0,this.showtuijian=!1):this.showtuijian=!0},playlists:function(){var t=this;this.playlist=[],this.playlists.forEach((function(s,i){t.getsongDetail(s.id)}))},listshow:function(){this.listshow&&(this.shoutext=!1)}},methods:{touchstarts:function(t){this.startPagx=t.touches[0].pageX},touchends:function(t){var s=t.changedTouches[0].pageX;window.console.log(s),s-this.startPagx>=100&&this.$router.push({path:"/hot"})},getHotSearch:function(){var t=this,s=JSON.parse(window.localStorage.getItem("hotSearchKeyWords"));s&&Date.now()<s.time?this.hotSearchKeyWords=s.data:this.axios.get("https://music.kele8.cn/search/hot").then((function(s){t.hotSearchKeyWords=s.data.result.hots,window.localStorage.setItem("hotSearchKeyWords",JSON.stringify({time:Date.now()+864e5,data:t.hotSearchKeyWords}))}))},translateWhenSongId:function(t){this.$emit("translateWhenSongId",t)},translatePlaylist:function(t){this.$emit("translatePlaylist",t)},xxx:function(){this.suggests&&(this.listshow=!1,this.shoutext=!0,this.showtuijian=!0)},getSuggestsname:function(t){var s=this;this.loading=!0,this.axios.get("https://music.kele8.cn/search/suggest",{params:{keywords:this.suggests,type:"mobile"}}).then((function(t){s.suggestsname=t.data.result.allMatch})).finally((function(){s.loading=!1}))},goselectlist:function(t){this.listshow=!0;var s=this.suggestsname[t].keyword;this.getSuggestContent(s)},getSuggestContent:function(t){var s=this;fetch("https://music.kele8.cn/search?keywords="+t).then((function(t){return t.json()})).then((function(t){s.playlists=t.result.songs}))},getsongDetail:function(t){var s=this;fetch("https://music.kele8.cn/song/detail?ids="+t).then((function(t){return t.json()})).then((function(t){s.playlist.push(t.songs[0])}))},changinputtext:function(t){var s=this.hotSearchKeyWords[t].first;this.suggests=s,this.getSuggestContent(this.suggests),this.listshow=!0,this.showtuijian=!1}},created:function(){this.getHotSearch()}},o=l,c=(i("8172"),i("2877")),r=Object(c["a"])(o,e,a,!1,null,null,null);s["default"]=r.exports},"16a2":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("li",{staticClass:"song",on:{click:function(s){return t.translateSongId(t.index)}}},[i("div",{staticClass:"songname"},[!t.item.song&&t.showindex?i("div",{staticClass:"index",class:{active:t.index<3||""}},[t._v(t._s(t.indexback))]):t._e(),t.item.song?i("div",{staticClass:"list"},[i("p",{staticClass:"name"},[t._v(t._s(t.item.name))]),t.isShowQuality?i("i",{staticClass:"logo"}):t._e(),i("span",{staticClass:"said"},[t._v(t._s(t.item.song.artists[0].name)+"-"+t._s(t.item.song.album.name))])]):i("div",{staticClass:"list"},[i("p",{staticClass:"name"},[t._v(t._s(t.item.name))]),t.item.h&&t.isShowQuality?i("i",{staticClass:"logo"}):t._e(),i("span",{staticClass:"said"},[t._v(" "+t._s(t.item.ar[0].name)+"-"+t._s(t.item.al.name))])])]),t._m(0)])},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"right"},[i("i",{staticClass:"play"})])}],n={name:"SongListItem",props:["item","playlist","isShowQuality","index","YouCanJump","showindex"],methods:{translateSongId:function(t){this.$emit("translateWhenSongId",this.item),this.$emit("translatePlaylist",[t,this.playlist])}},computed:{indexback:function(){return this.index<9?"0"+(this.index+1):this.index+1}}},l=n,o=(i("a462"),i("2877")),c=Object(o["a"])(l,e,a,!1,null,null,null);s["a"]=c.exports},"32e4":function(t,s,i){t.exports=i.p+"img/sample.c86d30d7.gif"},8172:function(t,s,i){"use strict";var e=i("8a64"),a=i.n(e);a.a},8580:function(t,s,i){},"8a64":function(t,s,i){},a462:function(t,s,i){"use strict";var e=i("8580"),a=i.n(e);a.a}}]);
//# sourceMappingURL=chunk-23a49633.e1db1a2f.js.map